<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Rene.Codes</title>

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,600' rel='stylesheet' type='text/css'>
  <link href="./public/css/normalize.css" rel="stylesheet" />  
  <link href="./public/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./public/css/theme.css" />
  <!-- <link rel="icon" type="image/png" href="favicon.png" /> -->
</head>


<body>
  <div class='container-fluid'>
  <div class="center">
    <p id="btn-code"></p>
    <div id="project"></div>
    <a id="btn-minimal" class="btn btn-default" href="https://github.com/renemarcelo?tab=activity" target="_blank" role="button">Rene.Codes</a>
    </div>

    <div id="expand" >
      <div class='row'>
        <div class='col-xs-9 col-xs-offset-1'>
      <h3 id='staging'>Previews</h3>
      <p> These are projects I may be currently working on.
      </div>

      <div class='col-xs-10 col-xs-offset-1'>

        <table id='staging-list' class='table table-bordered'>
          <tbody>
          </tbody>
        </table>
</div>
</div>
      </div>
</div>

    <footer class="footer">
      <div class="container">
        <p><small>Github Information Page at <a href="https://github.com/renemarcelo">https://github.com/renemarcelo</a></small></p>
      </div>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="./public/js/bootstrap.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.2/moment.min.js"></script>
    <script>
    //grab info from GitHub
    $.when( $.getJSON( "https://api.github.com/users/renemarcelo/repos?sort=pushed" ) ).then(function( data, textStatus, jqXHR ) {
      $.each(data, function(i, json){
        json['worked-on'] = moment(json['updated_at']).fromNow();

        var labels = '';
        var has_staging = false;
        var subd_title = '';
        if (json['homepage']) {
          if (json['homepage'].includes('.rene.codes')) {
            has_staging = true;
            subd_title = json['homepage'].split('//')[1].replace('.rene.codes', ' (staging)');
          } else {
            console.log(2, "other homepage");
          }
        }
        // labels += "<span class='label label-info' style='background-color:#" +  "'>" + json['description'] + "</span> ";

        var html = "\
        <tr>\
          <td>\
            <h4><strong><a href='" + json['homepage'] + "' target='_blank'>" + subd_title + "</a></strong> " + "<em>" + "</em></h4>\
            <span>" + json['description'] + ".</span>\
            <p>With code at <a href='" + json['html_url'] + "' target='_blank'>" + json['html_url'] + ",</a> worked on as recent as " + json['worked-on'] + "</p>\
          </td>\
        </tr>\
        ";
        if (has_staging) {

          $("#staging-list tbody").append(html);
        }
        else {
          // $("#working-groups tbody").append(html);
          console.log(1, "has staging: ", has_staging);
        }
      });
    });
    </script>


  </body>
  </html>
